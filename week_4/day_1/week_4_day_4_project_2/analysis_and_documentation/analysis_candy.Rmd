---
title: "R Notebook"
output: html_notebook
---
# Calling relevant libraries
```{r}
library(tidyverse)
library(here)
library(janitor)
```

#READING THE DATA-SET
```{r}
candy_data_all_years <- read_csv(here("clean_data/candy_all_years_primary_clean.csv")
                          
dim(candy_data_all_years)
names(candy_data_all_years)
View(candy_data_all_years)
```



Analysis questions

1> What is the total number of candy ratings given across the three years. (number of candy ratings, not number of raters. Donâ€™t count missing values)

```{r}
candy_data_all_years %>%
  filter(!is.na(emotion)) %>%
   summarise(total_no_of_candy_ratings = n())
```
2> What was the average age of people who are going out trick or treating and the average age of people 3. not going trick or treating?

```{r}
candy_data_all_years %>%
  group_by(trick_or_treat_yourself) %>%
  summarise( average_age = mean(age,na.rm = TRUE))

```

3> For each of joy, despair and meh, which candy bar revived the most of these ratings?
```{r}
candy_data_all_years %>%
  filter(!is.na(emotion))%>%
  group_by(emotion, candy_name) %>%
  summarise( count = n()) %>%
  filter(count == max(count))
```

4> How many people rated Starburst as despair?
```{r}
candy_data_all_years %>%
  filter(candy_name == "starburst", emotion == "DESPAIR") %>%
  summarise (total_starburst_despair = n())
```

For the next three questions, count despair as -1, joy as +1 and meh as 0.

5> What was the most popular candy bar by this rating system for each gender in the dataset?

```{r}

```

6> What was the most popular candy bar in each year?

```{r}

```

7> What was the most popular candy bar by this rating for people in US, Canada, UK and all other countries?

```{r}

```

